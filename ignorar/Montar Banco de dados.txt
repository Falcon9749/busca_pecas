Limpar BD

python -m flask db-drop
python -m flask db upgrade

Passo 1: Definir a variável de ambiente (você está usando Git Bash, então o export é o correto)

Bash

export FLASK_APP=app.py

Passo 2: Inicializar a pasta de migrações (o comando que faltava)

Bash

flask db init

(Depois de rodar isso, você verá uma nova pasta chamada migrations aparecer no seu projeto.)

Passo 3: Criar o script da primeira migração

Bash

flask db migrate -m "Criação inicial da tabela de peças"

Passo 4: Aplicar a migração e criar a tabela no banco de dados

Bash

flask db upgrade

ou

python -m flask db upgrade

Atualizar BD

export FLASK_APP=app.py
flask db migrate -m "Adiciona coluna car_model a tabela de peças"
flask db upgrade

Arquivo .env

# Configuração do Banco de Dados em partes
DB_USER="postgres"
DB_PASSWORD="sua_senha"
DB_HOST="localhost"
DB_PORT="5432"
DB_NAME="pecas_db"